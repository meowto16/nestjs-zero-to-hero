# Введение в ORM и TypeORM

## Object Relational Mapping (ORM)

Object-Relational Mapping (ORM) - это техника, которая позволяет вам запрашивать
и манипулировать данными из БД, используя парадигму объектно-ориентированного
программирования.

Существует довольно много ORM библиотек, которые позволяют разработчикам обращаться
к БД используя предпочитаемый ими язык — вместо того, чтобы отправлять простые запросы напрямую

## Плюсы и минусы использования библиотек ORM

### Плюсы

- Описание модели данных в одном месте — легче поддерживать. Меньше повторения кода
- Большая часть вещей делается автоматически — обработка БД, типы данных, отношения и т.д
- Нет необходимости писать используя SQL-синтаксис (легко выучить, но трудно освоить в полной мере). Используете
привычный вам способ написания кода
- Абстракция над БД — вы можете сменить тип БД в любое время, когда пожелаете
- Использует ООП, поэтому легко достичь вещей вроде наследования 


### Минусы

- Вам необходимо выучить это. И ORM библиотеки не всегда простые
- С производительностью все ок, но легко можно не обратить на нее внимание.
- Может привести к забыванию основ (или вообще никогда не изучению) что происходит за кулисами, что может привести
к ряду проблем поддержки кода.
  
## TypeORM

TypeORM - это ORM библиотека, которая может запускаться в среде Node.js и используется с TypeScript (или Javascript)

Помогает нам объявлять и управлять сущностями, репозиториями, колонками, отношениями, репликациями, индексами,
запросами, логирование и **многим другим**

## Пример

Получение всех задач, которые принадлежат `"Ashley"` и статус `"Done"`

#### TypeORM
```typescript
const tasks = await Task.find({ status: 'DONE', user: 'Ashley' })
```

### Чистый JavaScript
```javascript
let tasks;
db.query(`SELECT * FROM TASKS WHERE STATUS = "DONE" AND user = "Ashley"`, (err, result) => {
  if (err) {
    throw new Error('Could not retrieve tasks!')
  }
  tasks = result.rows
})
```

## TypeORM документация

https://typeorm.io
